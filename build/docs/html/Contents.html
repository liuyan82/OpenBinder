<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenBinder: Distribution Contents</title>
<link href="doxygenPSI.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<h1><a class="anchor" name="Contents">Distribution Contents</a></h1><div class="header"> <center>&lt; <a class="el" href="Building.html">Building</a> | <a class="el" href="main.html#OpenBinder">OpenBinder</a> | <a class="el" href="Authors.html">Authors</a> &gt;</center> <hr>
 </div><p>
The OpenBinder distribution is divided into a number of top-level directories for the different kinds of items that are included. This page is organized in the same way, providing a brief description of each of the items that are included.<h2><a class="anchor" name="build">
build</a></h2>
This directory is not included in the distribution, but will created for you when you build OpenBinder. It contains all of the build outputs (except for the kernel module), and is thus safe to completely remove  in which case the needed contents will be recreated at the next build. The build results are placed into a number of subdirectories here:<p>
<ul>
<li><b>bin:</b> Executable Linux commands, from the <code>commands</code>, <code>servers</code>, and <code>tools</code> source directories.</li><li><b>docs:</b> Output from doxygen (<code>make docs</code>).</li><li><b>headers:</b> C++ headers generated by pidgen from the source IDL files in <code>interfaces</code>.</li><li><b>lib:</b> Linux libraries (shared and static) from the source <code>libraries</code> directory.</li><li><b>obj:</b> All intermediate build files.</li><li><b>packages:</b> Final Binder package directories, created from the source <code>components</code> and <code>samples</code> directories.</li><li><b>scripts:</b> Script files, both Linux shell (ending with .sh) and Binder shell (ending with .bsh), from the source <code>scripts</code> directory.</li></ul>
<h2><a class="anchor" name="build_system">
build_system</a></h2>
The OpenBinder make-based build system is here. This directory includes both a basic file (definitions.make) as well as various template files used to generate rules to create various types of output.<p>
The subdirectory <code>doxygen</code> here contains files for generating the Doxygen documentation. Of particular note here is the front page of the documentation, in <a class="el" href="mainpage_8h.html">mainpage.h</a>.<h2><a class="anchor" name="commands">
commands</a></h2>
Linux command-line tools related to working with the Binder.<p>
<ul>
<li><b>3way</b>: A test app that creates three processes and sends Binder transactions between them.</li><li><b>bomber:</b> A test app that forks and kills a large number of processes that hold object references between them.</li><li><b>bsh:</b> A command that starts a Binder shell session. The smooved service must already be running.</li></ul>
<h2><a class="anchor" name="components">
components</a></h2>
This directory contains the implementation for various Binder components and Makefiles for compiling them into packages. It is organized in a series of sub-directories for different kinds of components.<h3><a class="anchor" name="kits">
kits</a></h3>
These are various components related to specific Binder kits. The only one currently included is CatalogMirror, a component wrapper for the <a class="el" href="classBCatalogMirror.html">BCatalogMirror</a> class.<h3><a class="anchor" name="services">
services</a></h3>
These are Binder components that are intended to be used as services  i.e., published in the services directory.<p>
<ul>
<li><b>base:</b> A common package for basic services. Currently only includes the Informant service.</li><li><b>MemoryDealer:</b> The service provides a common shared memory area that others can perform allocations in. It is a useful demonstration of the <a class="el" href="classIMemory.html">IMemory</a> and <a class="el" href="classIMemoryHeap.html">IMemoryHeap</a> APIs, although this implementation should be moved into libbinder so that others can easily create their own shared memory areas.</li><li><b>Settings:</b> The Settings Catalog, which maintains a hierarchical data organization that is stored in a persistent XML file.</li><li><b>TokenSource:</b> An example class for generating Binder object tokens that can be used to track state in a robust way (recovering from process crashes).</li></ul>
<h3><a class="anchor" name="tools">
tools</a></h3>
These components are command line tools.<p>
<ul>
<li><b>BinderShell:</b> This is the implementation of the BinderShell. It also includes a large number of components providing all of the basic shell commands.</li><li><b>commands/atom</b>: A shell command for working with the <a class="el" href="SAtomDebugging.html">SAtom Debugging</a> facility.</li><li><b>commands/bperf</b>: A command for running a wide variety of Binder performance and validation tests.</li></ul>
<h2><a class="anchor" name="docs">
docs</a></h2>
This directory contains top-level documentation on OpenBinder. The detailed documentation on the Binder itself is stored along with its implementation, in <code>libraries/libbinder/docs</code>.<h2><a class="anchor" name="headers">
headers</a></h2>
These are the shared header files for the OpenBinder APIs. They are organized into "kits", a collection of related APIs. One or more kits are bundled together into a library. Currently all kits are compiled into the libbinder.so library.<p>
<ul>
<li><b>app:</b> The Application Kit, primarily the basic Binder Shell command interface and implementation (<a class="el" href="classICommand.html">ICommand</a>, <a class="el" href="classBCommand.html">BCommand</a>, <a class="el" href="classSGetOpts.html">SGetOpts</a>).</li><li><b>dmprovider:</b> Headers for an example (not buildable) implementation of the <a class="el" href="BinderDataModel.html">Binder Data Model</a> APIs on the SQL-like APIs that were in the Cobalt Data Manager.</li><li><b>package:</b> The Package Kit, containing the implementation of the Package Manager.</li><li><b>package_p:</b> The private parts of the Package Kit. All of the current Package Kit is here, which smooved uses to start the package service.</li><li><b>services:</b> The Services Kit for generic system service. Currently includes the implementation of the Informant service.</li><li><b>storage:</b> The <a class="el" href="StorageKit.html">Storage Kit</a>, for working with data and storage. Primarily composed of classes for implementing the <a class="el" href="BinderDataModel.html">Binder Data Model</a> interfaces.</li><li><b>support:</b> The <a class="el" href="SupportKit.html">Support Kit</a>, core Binder APIs. Currently contains the headers for both the <a class="el" href="SupportKit.html">Support Kit</a> and <a class="el" href="BinderKit.html">Binder Kit</a> APIs that this documentation describes.</li><li><b>support_p:</b> Private headers for the Support Kit.</li><li><b>xml:</b> The XML Kit, the Binder's XML parser. This should be replaced by a standard XML parse.</li><li><b>xml_p:</b> Private parts of the XML Kit.</li></ul>
<h2><a class="anchor" name="interfaces">
interfaces</a></h2>
These are IDL files describing public Binder interfaces. They are organized into kits exactly the same way as the headers, and the generated headers get built with the same structure into the build directory.<p>
<ul>
<li><b>app:</b> Application Kit interfaces.</li><li><b>package:</b> Package Kit interfaces.</li><li><b>service:</b> Service Kit interfaces</li><li><b>support:</b> Support Kit interfaces.</li></ul>
<h2><a class="anchor" name="libraries">
libraries</a></h2>
Code for the OpenBinder libraries, both shared and static.<p>
<ul>
<li><b>libbinder:</b> This is the full Binder implementation, collecting together the Support, Binder, Storage, Services, and App Kits. There are actually two libraries that are generated from this code: <code>libbinder.so</code> is the normal shared library that clients link against, and <code>libbinder_bootstrap.a</code> is a small subset static library that is used to build tools such as pidgen (which must be built before the full libbinder.so, with its interfaces, can be created).</li><li><b>libbinder_component_glue:</b> Glue code that components must link against. This provides the per-package implementation needed for <a class="el" href="classSPackageSptr.html">SPackageSptr</a> and other package manager facilities to work.</li><li><b>libbinder_glue:</b> Glue code that libraries and executables (but <em>not</em> components) linking against libbinder must also include.</li><li><b>libdmprovider:</b> An example of how to implement the <a class="el" href="BinderDataModel.html">Binder Data Model</a> APIs on the SQL-like data store. While this requires the Cobalt Data Manager so is not useful as-is, it can be used as a reference for how one might go about such an implementation.</li></ul>
<h2><a class="anchor" name="modules">
modules</a></h2>
This directory contains the Binder kernel module, for performing IPC between processes. It is an optional part of the system; if not built, all of the other Binder features except for multi-process support will still work.<h2><a class="anchor" name="samples">
samples</a></h2>
Sample code.<p>
<ul>
<li><b>SampleComponent:</b> The basic sample code for writing a component, implementing a Binder Shell command.</li><li><b>SampleService:</b> An example of writing a service. Includes both a component implementing a service, and a shared library showing how you can provide plain C APIs for working with the service.</li><li><b>SampleProcess:</b> An example of a service that automatically runs in its own process.</li><li><b>ShellService:</b> The SampleService example component, implemented with a Binder Shell script!</li></ul>
<h2><a class="anchor" name="scripts">
scripts</a></h2>
These are various shell scripts, both for a normal Linux shell (using a .sh suffix) and the Binder shell (using a .bsh suffix).<p>
<dl compact><dt><b>Note:</b></dt><dd>You should not use these directly, but rather the corresponding outputs generated by the build system in <code>build/scripts</code>.</dd></dl>
<ul>
<li><b>boot_script.bsh:</b> A Binder shell boot script that smooved can run to set up various standard services.</li><li><b>process_wrapper_gdb.cmds</b>, <b>process_wrapper_gdb.sh</b>, <b>process_wrapper.sh:</b> These files can be used with the <a class="el" href="EnvironmentVars.html#BINDER_PROCESS_WRAPPER">BINDER_PROCESS_WRAPPER</a> feature to wrap every new Binder process with its own xterm and gdb session.</li><li><b>setup_env.sh:</b> A Linux shell script that will set up your environment variables (PATH, LD_LIBRARY_PATH, <a class="el" href="EnvironmentVars.html#BINDER_PACKAGE_PATH">BINDER_PACKAGE_PATH</a>) so that you can run smooved and bsh directly from the command line.</li><li><b>test.bsh:</b> A Binder shell command that runs some standard bperf tests.</li><li><b>user_context.bsh:</b> Script that is run by boot_script.bsh to set up the user context.</li></ul>
<h2><a class="anchor" name="servers">
servers</a></h2>
These are standard Linux commands that are basic parts of the Binder runtime.<h3><a class="anchor" name="binderproc">
binderproc</a></h3>
This is the executable that the Binder runs when it is created a new process. It sets up the Binder environment and connection correctly so that the parent can get its <a class="el" href="classIProcess.html">IProcess</a> to instantiate components inside of it.<h3><a class="anchor" name="smooved">
smooved</a></h3>
The smooved executable is the main Binder server, and must be running for other Binder services to be available.<p>
The smooved application itself does very little. Its main purpose is to:<p>
<ol type=1>
<li>Create the root Binder context, basically by instantiating a <a class="el" href="classBCatalog.html">BCatalog</a> object.</li><li>If the Binder kernel module is available, become the global host of the root namespace.</li><li>Create and start the <a class="el" href="BinderTerminology.html#PackageManagerDefn">Package Manager</a>, by instantiating the standard package manager class and adding it to the root context under <code>/packages</code>.</li><li>Create a simple process manager and publish it in the root context under <code>/processes</code>. <b>Note:</b> This should be changed to a component that is created and published by the boot script.</li><li>Say <a class="el" href="BringItOn.html">Bring It On</a>, and run either a boot script such as <code>scripts/boot_script.sh</code> and/or start an interactive Binder shell session, depending on the arguments supplied on the command line.</li></ol>
<p>
Though smooved itself does not do a whole lot, there is often a significant amount of code running in its process since that is the initial default location in which components are instantiated. For example, the standard boot script creates all of the standard services and <a class="el" href="classBCatalogMirror.html">BCatalogMirror</a> objects for the user context in the smooved process.<p>
For more custom configurations, you can easily implement a replacement for smooved that only does as little or as much as you need. Note that, however, when multiprocess support is being used (that is, when the Binder kernel module is available), there can be only one process that is the host of the root <a class="el" href="classSContext.html">SContext</a> namespace. This is the process from which the <a class="el" href="classSContext.html#e3">SContext::UserContext()</a> and <a class="el" href="classSContext.html#e2">SContext::SystemContext()</a> methods retrieve their context object.<p>
That said, there shouldn't be a reason why an application couldn't create its own root context and Package Manager, and simply ignore whatever multiprocess capability might be around by not trying to become the host of the root namespace. Provided that its components aren't using <a class="el" href="classSContext.html#e3">SContext::UserContext()</a> or <a class="el" href="classSContext.html#e2">SContext::SystemContext()</a>, that application could even still make use of the normal multiprocess APIs such as creating new processes with <a class="el" href="classSContext.html#a8">SContext::NewProcess()</a> and instantiating components there.<h2><a class="anchor" name="tools">
tools</a></h2>
Linux command line tools that are used by the build system to generate other parts of the final system. When building OpenBinder for the first time, these tools will be created as they are needed to build other parts of the package.<h3><a class="anchor" name="content_makestrings">
makestrings</a></h3>
This command line tool generates string resources for inclusion in a package.<h3><a class="anchor" name="content_pidgen">
pidgen</a></h3>
The Binder IDL compiler. Takes IDL files as input, and generates C++ headers and implementations as output. See <a class="el" href="pidgen.html">pidgen</a> for more information.<p>
Note that in the OpenBinder build system, as long as the pidgen tool is already available, it will not be considered as a prerequisite for generating sources from the IDL files. That is, if you modify the pidgen tool, this will not automatically cause it to be re-run on the IDL files. To force it to be run, you can use the <code>pidgen</code> goal, such as "<code>make user pidgen</code>". <div class="footer">
<hr>
<!--address style="align: right;"-->
<I>
<small>
<a href="http://www.palmsource.com/"><img name="ps_logo" src="../ps_logo.gif" width="96" height="54" align="left" border="0" alt=""></a>  Generated on Wed Dec 28 22:33:32 2005 by Doxygen 1.4.4 for OpenBinder Documentation Version 1.0
<P>
<a href="http://www.palmsource.com/">PalmSource, Inc.</A> &copy; 2005 &nbsp;
</small>
<!--/address-->
</I>
</div>
</body>
</html>
