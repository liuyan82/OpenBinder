<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenBinder: BinderShell.h Source File</title>
<link href="doxygenPSI.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="nav">
<a class="el" href="dir_000000.html">libraries</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000001.html">libbinder</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000002.html">docs</a></div>
<h1>BinderShell.h</h1><a href="BinderShell_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l01110"></a>01110     <span class="keywordtype">void</span> EntryCreated(<a class="code" href="classINode.html">INode</a> who, <a class="code" href="classSString.html">SString</a> <a class="code" href="TSD_8cpp.html#a2">name</a>, <a class="code" href="classIBinder.html">IBinder</a> entry);
<a name="l01111"></a>01111     
<a name="l01112"></a>01112     ...
<a name="l01113"></a>01113 }
<a name="l01114"></a>01114 <span class="keyword">@end</span>code
<a name="l01115"></a>01115 
<a name="l01116"></a>01116 Given that, let's write a shell function that handles the same
<a name="l01117"></a>01117 method signature:
<a name="l01118"></a>01118 
<a name="l01119"></a>01119 @verbatim
<a name="l01120"></a>01120 /# function handleEntryCreated() {
<a name="l01121"></a>01121     echo <span class="stringliteral">"Created: parent="</span> $1
<a name="l01122"></a>01122     echo <span class="stringliteral">"Created: name="</span> $2
<a name="l01123"></a>01123     echo <span class="stringliteral">"Created: entry="</span> $3
<a name="l01124"></a>01124 }
<a name="l01125"></a>01125 <span class="keyword">@end</span>verbatim
<a name="l01126"></a>01126 
<a name="l01127"></a>01127 We can now use the @c link shell command to set up a link from the @c /services
<a name="l01128"></a>01128 directory to our <span class="keyword">new</span> shell method.
<a name="l01129"></a>01129 
<a name="l01130"></a>01130 @verbatim
<a name="l01131"></a>01131 /# n=$[inspect /services org.openbinder.support.INode]
<a name="l01132"></a>01132 Result: <a class="code" href="classsptr.html">sptr&lt;IBinder&gt;</a>(0x8091dc4 8<a class="code" href="classBCatalog.html">BCatalog</a>)
<a name="l01133"></a>01133 
<a name="l01134"></a>01134 /# link $n $SELF @{EntryCreated-&gt;handleEntryCreated}
<a name="l01135"></a>01135 <span class="keyword">@end</span>verbatim
<a name="l01136"></a>01136 
<a name="l01137"></a>01137 This says <span class="stringliteral">"make a link from the object @c $n to the object @c $SELF, such that</span>
<a name="l01138"></a>01138 <span class="stringliteral">when @c EntryCreated is pushed from @c $n we will have the @c handleEntryCreated</span>
<a name="l01139"></a>01139 <span class="stringliteral">method called on @c $SELF"</span>.  And thus, upon adding a <span class="keyword">new</span> entry to
<a name="l01140"></a>01140 @c /services, we will see <span class="keyword">this</span>:
<a name="l01141"></a>01141 
<a name="l01142"></a>01142 @verbatim
<a name="l01143"></a>01143 /# publish /services/test linktest
<a name="l01144"></a>01144 Publishing: /services/test
<a name="l01145"></a>01145 /# Created: parent= <a class="code" href="SupportBuild_8h.html#a62">SValue</a>(<a class="code" href="classsptr.html">sptr&lt;IBinder&gt;</a>(0xb69063f4 8<a class="code" href="classBCatalog.html">BCatalog</a>))
<a name="l01146"></a>01146 Created: <a class="code" href="TSD_8cpp.html#a2">name</a>= test
<a name="l01147"></a>01147 Created: entry= <a class="code" href="SupportBuild_8h.html#a62">SValue</a>(<a class="code" href="classsptr.html">sptr&lt;IBinder&gt;</a>(0x8081254 N18SDatumGeneratorInt12IndexedDatumE))
<a name="l01148"></a>01148 <span class="keyword">@end</span>verbatim
<a name="l01149"></a>01149 
<a name="l01150"></a>01150 Links are a very powerful mechanism, though not the only way to achieve the
<a name="l01151"></a>01151 same result.  Depending on your needs, you can just as well write your own
<a name="l01152"></a>01152 notification mechanism <span class="keywordflow">for</span> a specialized purpose, or use <a class="code" href="classIInformant.html">IInformant</a> <span class="keywordflow">for</span>
<a name="l01153"></a>01153 a more generalized implementation of broadcasting without <span class="keyword">using</span> links.
<a name="l01154"></a>01154 A plain link, however, has significant advantages in being clearly documented
<a name="l01155"></a>01155 in IDL and a standard mechanism that many other things will be able to use
<a name="l01156"></a>01156 without being written specifically to receive your event.
<a name="l01157"></a>01157 
<a name="l01158"></a>01158 
<a name="l01159"></a>01159 */
<a name="l01160"></a>01160 
<a name="l01164"></a>01164 
<a name="l01360"></a>01360 
<a name="l01361"></a>01361 
<a name="l01362"></a>01362 
<a name="l01363"></a>01363 
</pre></div><div class="footer">
<hr>
<!--address style="align: right;"-->
<I>
<small>
<a href="http://www.palmsource.com/"><img name="ps_logo" src="../ps_logo.gif" width="96" height="54" align="left" border="0" alt=""></a>  Generated on Wed Dec 28 22:33:27 2005 by Doxygen 1.4.4 for OpenBinder Documentation Version 1.0
<P>
<a href="http://www.palmsource.com/">PalmSource, Inc.</A> &copy; 2005 &nbsp;
</small>
<!--/address-->
</I>
</div>
</body>
</html>
