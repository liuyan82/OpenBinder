<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenBinder: Building</title>
<link href="doxygenPSI.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<h1><a class="anchor" name="Building">Building</a></h1><div class="header"> <center>&lt; <a class="el" href="QuickStart.html">Quick Start</a> | <a class="el" href="main.html#OpenBinder">OpenBinder</a> | <a class="el" href="Contents.html">Distribution Contents</a> &gt;</center> <hr>
 </div><p>
The OpenBinder package includes a build system that can be used for compiling the source code, running tests, and generating the documentation. While the basic source code has over time run on a variety of platforms (including BeOS, Windows, and PalmOS Cobalt), this package only supports building for Linux.<h2><a class="anchor" name="Requirements">
Requirements</a></h2>
The OpenBinder build system requires GNU Make 3.80.<p>
The source code has been tested against GCC 3.3.5. Other versions of GCC may cause problems. It also requires flex 2.5.31 and bison 1.875d.<p>
The Binder kernel module has been tested against Linux kernels 2.6.10 and 2.6.12. Earlier kernels are not supported. The kernel module is only required for multi-process functionality; the user-space code will operate without it being present, though without the ability to communicate between processes.<p>
Building the documentation from source requires the Doxygen tool, available at <a href="http://www.doxygen.org/.">http://www.doxygen.org/.</a><h2><a class="anchor" name="QuickBuild">
Quick Build</a></h2>
Once you have extracted the OpenBinder distribution on to your machine, you can simply type "make" from the root of the tree to build all of the user-space code:<p>
<div class="fragment"><pre class="fragment">$ tar -xzf openbinder-0.8.tar.gz
$ cd openbinder-0.8
$ make
</pre></div><p>
This will proceed to build the pidgen tool (the Binder's IDL compiler), compile the interfaces, build the Binder shared library (libbinder.so), and then build the Binder packages that are included.<p>
Assuming there are no errors, you can use the "test" target to run some tests in the Binder system:<p>
<div class="fragment"><pre class="fragment">$ make test
</pre></div><p>
You can also use the "runshell" target to run the Binder Shell, an interactive command line shell that lets you interact with the Binder system:<p>
<div class="fragment"><pre class="fragment">$ make runshell
...

/# ls
contexts/
packages/
processes/
services/
who_am_i

/# c=$[new org.openbinder.tools.commands.BPerf]
Result: sptr&lt;IBinder&gt;(0x80967d4 17BinderPerformance)

/# inspect $c
Result: "org.openbinder.app.ICommand" -&gt; sptr&lt;IBinder&gt;(0x80967d4 17BinderPerformance)
</pre></div><p>
See <a class="el" href="BinderShellTutorial.html">Binder Shell Tutorial</a> for more information on the Binder Shell. Use the "make help" target for a brief summary of the features available in the build system.<h2><a class="anchor" name="MultiprocessBuild">
Multiprocess Build</a></h2>
While there are a lot of useful things you can do with the Binder in a single process (scheduling threads with <a class="el" href="classSHandler.html">SHandler</a>, loading components with the Package Manager, etc), the main power of the system comes when working with multiple processes. Having this support requires building the Binder kernel module, which implements a special IPC mechanism used by the Binder to efficiently manage object references and interactions between processes.<p>
To build the kernel module, you will need to have built your kernel so that its headers are available. If that has been done, then you should be able to use the "loadmodules" target to compile the Binder kernel module and install it on your system:<p>
<div class="fragment"><pre class="fragment">$ make loadmodules
...
Loading Binder module...
You may need to enter your password
ERROR: Module binderdev does not exist in /proc/modules
sudo insmod /home/hackbod/lsrc/open-source/openbinder/main/dist/modules/binder/binderdev.ko
Binder module successfully intalled.
</pre></div><p>
After this has been completed, you can again run the "test" and "runshell" targets, and now you will be running these in a multiprocess environment:<p>
<div class="fragment"><pre class="fragment">$ make runshell
...

/# p=$[new_process my_process]
Result: IBinder::shnd(0x2)

/# c=$[new -r $p org.openbinder.tools.commands.BPerf]
Result: IBinder::shnd(0x3)
</pre></div><h2><a class="anchor" name="BuildingDocumentation">
Building Documentation</a></h2>
If you have Doxygen available, you can use the "docs" target to build this documentation from the source code:<p>
<div class="fragment"><pre class="fragment">$ make docs
</pre></div><p>
The documentation will be generated into the directory build/docs/... <div class="footer">
<hr>
<!--address style="align: right;"-->
<I>
<small>
<a href="http://www.palmsource.com/"><img name="ps_logo" src="../ps_logo.gif" width="96" height="54" align="left" border="0" alt=""></a>  Generated on Wed Dec 28 22:33:32 2005 by Doxygen 1.4.4 for OpenBinder Documentation Version 1.0
<P>
<a href="http://www.palmsource.com/">PalmSource, Inc.</A> &copy; 2005 &nbsp;
</small>
<!--/address-->
</I>
</div>
</body>
</html>
