<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenBinder: Binder.h File Reference</title>
<link href="doxygenPSI.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="nav">
<a class="el" href="dir_000003.html">headers</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000006.html">support</a></div>
<h1>Binder.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Basic functionality of all Binder objects. 
<p>

<p>
<code>#include &lt;<a class="el" href="Value_8h-source.html">support/Value.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="StaticValue_8h-source.html">support/StaticValue.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="SupportDefs_8h-source.html">support/SupportDefs.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="Context_8h-source.html">support/Context.h</a>&gt;</code><br>

<p>
<a href="Binder_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBBinder.html">BBinder</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Standard implementation of <a class="el" href="classIBinder.html">IBinder</a> for a Binder object.  <a href="classBBinder.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBnInterface.html">BnInterface</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the base implementation for a native (local) <a class="el" href="classIInterface.html">IInterface</a>.  <a href="classBnInterface.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBpAtom.html">BpAtom</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the <a class="el" href="classSAtom.html">SAtom</a> protocol implementation for a proxy interface.  <a href="classBpAtom.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBpInterface.html">BpInterface</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the base implementation for a remote <a class="el" href="classIInterface.html">IInterface</a>.  <a href="classBpInterface.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeffect__action__def.html">effect_action_def</a></td></tr>

<tr><td colspan="2"><br><h2>BBinder::HandleEffect() Helpers</h2></td></tr>
<tr><td colspan="2">These are helper functions for implementing <a class="el" href="classBBinder.html#b5">BBinder::HandleEffect()</a>. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="Binder_8h.html#a9a3">B_ACTIONS_SORTED_BY_KEY</a> =  0x00000001
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flags for <a class="el" href="Binder_8h.html#a8">execute_effect()</a>.  <a href="Binder_8h.html#a9">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="Binder_8h.html#a10a4">B_NO_ACTION</a> =  0x00000000, 
<a class="el" href="Binder_8h.html#a10a5">B_INVOKE_ACTION</a> =  0x00000001, 
<a class="el" href="Binder_8h.html#a10a6">B_GET_ACTION</a>, 
<a class="el" href="Binder_8h.html#a10a7">B_PUT_ACTION</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flags for <a class="el" href="Binder_8h.html#a8">execute_effect()</a>.  <a href="Binder_8h.html#a10">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__Core.html#ga0">status_t</a> _IMPEXP_SUPPORT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Binder_8h.html#a8">execute_effect</a> (const <a class="el" href="classsptr.html">sptr</a>&lt; <a class="el" href="classIInterface.html">IInterface</a> &gt; &amp;target, const <a class="el" href="classSValue.html">SValue</a> &amp;in, const <a class="el" href="classSValue.html">SValue</a> &amp;inBindings, const <a class="el" href="classSValue.html">SValue</a> &amp;outBindings, <a class="el" href="classSValue.html">SValue</a> *out, const <a class="el" href="structeffect__action__def.html">effect_action_def</a> *actions, size_t num_actions, uint32_t flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flags for <a class="el" href="Binder_8h.html#a8">execute_effect()</a>.  <a href="#a8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Binder_8h.html#a1">B_IMPLEMENT_META_INTERFACE</a>(iname, descriptor, leftmostbase)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">B_IMPLEMENT_META_INTERFACE should be used in almost all cases.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Binder_8h.html#a2">B_IMPLEMENT_META_INTERFACE_LOCAL</a>(iname, descriptor, leftmostbase)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">B_IMPLEMENT_META_INTERFACE_LOCAL is used for [local] interfaces.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="Binder_8h.html#a0">B_IMPLEMENT_META_INTERFACE_NO_INSTANTIATE</a>(iname, descriptor, leftmostbase)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Use the B_IMPLEMENT_META_INTERFACE macro inside of your <a class="el" href="classIInterface.html">IInterface</a> subclass's .cpp file to implement the Binder meta-API.  <a href="#a0"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a1"></a><!-- doxytag: member="Binder.h::B_IMPLEMENT_META_INTERFACE" ref="a1" args="(iname, descriptor, leftmostbase)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define B_IMPLEMENT_META_INTERFACE          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iname,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>descriptor,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>leftmostbase&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">static</span> <a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::) <a class="code" href="classsptr.html">sptr</a>&lt;<a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::) <a class="code" href="classIInterface.html">IInterface</a>&gt;           \
        instantiate_proxy_ ## iname (const <a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::)<a class="code" href="classsptr.html">sptr</a>&lt;<a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::) <a class="code" href="classIBinder.html">IBinder</a>&gt;&amp; b) {     \
            <span class="keywordflow">return</span> static_cast&lt;leftmostbase*&gt;(<span class="keyword">new</span> Bp ## iname(b));                          \
        }                                                                                   \
        <a class="code" href="Binder_8h.html#a0">B_IMPLEMENT_META_INTERFACE_NO_INSTANTIATE</a>(iname, descriptor, leftmostbase)          \
</pre></div>B_IMPLEMENT_META_INTERFACE should be used in almost all cases. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member="Binder.h::B_IMPLEMENT_META_INTERFACE_LOCAL" ref="a2" args="(iname, descriptor, leftmostbase)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define B_IMPLEMENT_META_INTERFACE_LOCAL          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iname,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>descriptor,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>leftmostbase&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">static</span> <a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::) <a class="code" href="classsptr.html">sptr</a>&lt;<a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::) <a class="code" href="classIInterface.html">IInterface</a>&gt;           \
        instantiate_proxy_ ## iname (const <a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::)<a class="code" href="classsptr.html">sptr</a>&lt;<a class="code" href="BuildDefaults_8h.html#a29">BNS</a>(::palmos::support::) <a class="code" href="classIBinder.html">IBinder</a>&gt;&amp; b) {     \
            <span class="keywordflow">return</span> <a class="code" href="group__Core.html#ga75">NULL</a>;                                                                    \
        }                                                                                   \
        <a class="code" href="Binder_8h.html#a0">B_IMPLEMENT_META_INTERFACE_NO_INSTANTIATE</a>(iname, descriptor, leftmostbase)          \
</pre></div>B_IMPLEMENT_META_INTERFACE_LOCAL is used for [local] interfaces. 
<p>
(Local to one process and not callable by other languages.)     </td>
  </tr>
</table>
<a class="anchor" name="a0"></a><!-- doxytag: member="Binder.h::B_IMPLEMENT_META_INTERFACE_NO_INSTANTIATE" ref="a0" args="(iname, descriptor, leftmostbase)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define B_IMPLEMENT_META_INTERFACE_NO_INSTANTIATE          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iname,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>descriptor,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>leftmostbase&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use the B_IMPLEMENT_META_INTERFACE macro inside of your <a class="el" href="classIInterface.html">IInterface</a> subclass's .cpp file to implement the Binder meta-API. 
<p>
You will not normally use this, instead letting pidgen generate similar code from an IDL file.<p>
Note that you must have defined your remote proxy class (with an "Bp" prefix) before using the macro. B_IMPLEMENT_META_INTERFACE_NO_INSTANTIATE implements the internals of B_IMPLEMENT_META_INTERFACE, which is what should be used 99% of the time. B_IMPLEMENT_META_INTERFACE_LOCAL can be used for those cases what want binder functionality without the cross-process or multi-language support. (See documentation for the [local] attribute in PIDgen.) The leftmostbase casts are needed when the interface has multiple bases. Rather than have 2 macro versions, we just always insert the extra cast. In the case of single (or no) inheritance, the leftmostbase will be the same as I ## iname, which results in code like this: static_cast&lt;IFoo*&gt;(static_cast&lt;IFoo*&gt; blah))    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a9"></a><!-- doxytag: member="Binder.h::@0" ref="a9" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">anonymous enum          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flags for <a class="el" href="Binder_8h.html#a8">execute_effect()</a>. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a9a3"></a><!-- doxytag: member="B_ACTIONS_SORTED_BY_KEY" ref="a9a3" args="" -->B_ACTIONS_SORTED_BY_KEY</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a10"></a><!-- doxytag: member="Binder.h::@1" ref="a10" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">anonymous enum          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flags for <a class="el" href="Binder_8h.html#a8">execute_effect()</a>. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a10a4"></a><!-- doxytag: member="B_NO_ACTION" ref="a10a4" args="" -->B_NO_ACTION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a10a5"></a><!-- doxytag: member="B_INVOKE_ACTION" ref="a10a5" args="" -->B_INVOKE_ACTION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a10a6"></a><!-- doxytag: member="B_GET_ACTION" ref="a10a6" args="" -->B_GET_ACTION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a10a7"></a><!-- doxytag: member="B_PUT_ACTION" ref="a10a7" args="" -->B_PUT_ACTION</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a8"></a><!-- doxytag: member="Binder.h::execute_effect" ref="a8" args="(const sptr&lt; IInterface &gt; &amp;target, const SValue &amp;in, const SValue &amp;inBindings, const SValue &amp;outBindings, SValue *out, const effect_action_def *actions, size_t num_actions, uint32_t flags=0)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__Core.html#ga0">status_t</a> _IMPEXP_SUPPORT execute_effect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classsptr.html">sptr</a>&lt; <a class="el" href="classIInterface.html">IInterface</a> &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classSValue.html">SValue</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classSValue.html">SValue</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>inBindings</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classSValue.html">SValue</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>outBindings</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classSValue.html">SValue</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structeffect__action__def.html">effect_action_def</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>actions</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>num_actions</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flags for <a class="el" href="Binder_8h.html#a8">execute_effect()</a>. 
<p>
    </td>
  </tr>
</table>
<div class="footer">
<hr>
<!--address style="align: right;"-->
<I>
<small>
<a href="http://www.palmsource.com/"><img name="ps_logo" src="../ps_logo.gif" width="96" height="54" align="left" border="0" alt=""></a>  Generated on Wed Dec 28 22:33:28 2005 by Doxygen 1.4.4 for OpenBinder Documentation Version 1.0
<P>
<a href="http://www.palmsource.com/">PalmSource, Inc.</A> &copy; 2005 &nbsp;
</small>
<!--/address-->
</I>
</div>
</body>
</html>
